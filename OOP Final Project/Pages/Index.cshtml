@page
@model IndexModel
@{
    ViewData["Title"] = "Home Patient";
}

<head>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<style>
    body {
        background-color: #f7f8ff;
        color: #195478;

    }

    .rounded-16px {
        border-radius: 16px;
    }

    .hover-effect:hover {
        background-color: #d7dbe1;
    }
</style>

<div class="pt-5 mt-5 mx-5">
    <div class=" mx-5 mt-5 pt-5 pb-5 shadow" style="background-color: white; border-radius: 36px;">
        <!-- Dashboard Header -->
        <div class="text-center mb-5">
            <h1 class="display-4 fw-bold" style="color:#457b9d; font-family: Tangerine, cursive; font-size: 80pt;">
                Viciousircle Clinic</h1>
            <h5 style="color:#1d3557;">Healthy body - Healthy mind - Healthy soul </h5>
        </div>

        <!-- Main Content -->
        <div class="row">
            <!-- Overview Cards -->
            <div class="col-md-12">
                <div class="row d-flex justify-content-center align-items-stretch">
                    @if (Model.PatientWithId1 != null)
                    {
                        <div class="col-sm-3">
                            <div class="card shadow-sm border-1 h-100 rounded-16px">
                                <div class="card-body d-flex flex-column" style="justify-content: space-between;">
                                    <div class="py-2 d-flex align-items-center" style="justify-content: space-between;">
                                        <i class="fas fa-user-tag"></i>
                                        <h5 class="card-title mb-0">@Model.PatientWithId1.FirstName</h5>
                                    </div>

                                    <div class="d-flex gap-md-2 flex-column">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>ID:</div>
                                            <div class="text-dark btn-sm" style="background-color:#f4f4f4;">
                                                @Model.PatientWithId1.Id</div>
                                        </div>

                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>Status:</div>
                                            <div class="btn-sm" style="background-color:#fff3b0; color: #8a7405;">
                                                @Model.PatientWithId1.LastName</div>
                                        </div>

                                        <div class="d-flex gap-md-3 justify-content-between align-items-center">
                                            <div>Last visit:</div>
                                            <div>@Model.PatientWithId1.LastName</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <p>No patient found with ID 1.</p>
                    }
                    <!-- Upcoming Appointments -->
                    <div class="col-sm-4">
                        <div class="card shadow-sm border-1 h-100 rounded-16px">

                            <div class="card-body py-4 d-flex flex-column">
                                <h5 class="card-title">Upcoming Appointment</h5>
                                <p class="card-text text-muted">
                                    You have an appointment on 15 Nov 2024 at 10:00 AM
                                </p>
                                <div class="d-flex gap-3" style="justify-content: flex-end;">
                                    <a href="#" class="btn" style="background-color: #457b9d; color: aliceblue;"
                                        data-bs-toggle="modal" data-bs-target="#detailModal">
                                        <i class="fas fa-window-restore"></i> See Details
                                    </a>
                                    <!-- Book New Button -->
                                    <a href="#" class="btn btn-outline-dark" data-bs-toggle="modal"
                                        data-bs-target="#bookNewModal"
                                        style=" border: 1px solid #195478; background-color: transparent; color: #195478;"
                                        onmouseover="this.style.background='linear-gradient(135deg,#457b9d, #28436a )'; this.style.color='white';"
                                        onmouseout="this.style.background='transparent'; this.style.color='#195478';">
                                        <i class="fas fa-calendar-plus"></i> Book New
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Medical History -->
                    <div class="col-sm-4">
                        <div class="card shadow-sm border-1 h-100 rounded-16px">

                            <div class="card-body py-4 d-flex flex-column" style="justify-content: space-between;">
                                <h5 class="card-title">Medical History</h5>
                                <p class="card-text text-muted">
                                    View your medical history and past appointments
                                </p>
                                <!-- View History Button -->
                                <a href="#" class="btn d-flex align-items-center gap-md-3 justify-content-center"
                                    style="background-color: #457b9d; color: aliceblue;" data-bs-toggle="modal"
                                    data-bs-target="#viewHistoryModal">
                                    <i class="fas fa-notes-medical"></i>
                                    <div>
                                        View History
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>

<!-- Render the special div here -->
<partial name="_SpecialDivPartial" />

<!-- Modal Structure -->
<div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg text-dark">
        <div class="modal-content">
            <div class="modal-header d-flex align-items-center ">
                <h5 class="modal-title" id="detailModalLabel">Upcoming Appointment Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Modal Content -->
                <p><strong>Date:</strong> 15 Nov 2024</p>
                <p><strong>Time:</strong> 10:00 AM</p>
                <p><strong>Doctor:</strong> Dr. Emily Smith</p>
                <p><strong>Location:</strong> Viciousircle Clinic, Room 101</p>
                <p><strong>Notes:</strong> Regular check-up.</p>
            </div>
            <div class="modal-footer d-flex" style="justify-content: space-between;">
                <div>
                    <button type="button" class="btn btn-outline-danger">Cancel</button>
                    <button type="button" class="btn btn-dark">Reschedule</button>
                </div>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!-- Book New Modal -->
<div class="modal fade" id="bookNewModal" tabindex="-1" aria-labelledby="bookNewModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="bookNewModalLabel">Book a New Appointment</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Modal Content -->
                <form>
                    <div class="mb-3">
                        <label for="appointmentDate" class="form-label">Date</label>
                        <input type="date" class="form-control" id="appointmentDate">
                    </div>
                    <div class="mb-3">
                        <label for="appointmentTime" class="form-label">Time</label>
                        <input type="time" class="form-control" id="appointmentTime">
                    </div>
                    <div class="mb-3">
                        <label for="doctorSelect" class="form-label">Select Doctor</label>
                        <select class="form-select" id="doctorSelect">
                            <option selected>Choose...</option>
                            <option value="1">Dr. Emily Smith</option>
                            <option value="2">Dr. John Doe</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="notes" class="form-label">Notes</label>
                        <textarea class="form-control" id="notes" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Book Appointment</button>
            </div>
        </div>
    </div>
</div>

<!-- View History Modal -->
<div class="modal fade" id="viewHistoryModal" tabindex="-1" aria-labelledby="viewHistoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="viewHistoryModalLabel">Medical History</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Modal Content -->
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Appointment on 2024-10-01 with Dr. Emily Smith
                        <span class="badge bg-primary rounded-pill">Check-up</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Appointment on 2023-08-15 with Dr. John Doe
                        <span class="badge bg-success rounded-pill">Follow-up</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Appointment on 2023-01-20 with Dr. Anna White
                        <span class="badge bg-warning rounded-pill">Surgery</span>
                    </li>
                </ul>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Placeholder for future scripts
    </script>
}

<!-- Bootstrap JS and Dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
